{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Ahn\\\\Documents\\\\GitHub\\\\react-calculator\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Ahn\\\\Documents\\\\GitHub\\\\react-calculator\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"C:\\\\Users\\\\Ahn\\\\Documents\\\\GitHub\\\\react-calculator\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Ahn\\\\Documents\\\\GitHub\\\\react-calculator\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Ahn\\\\Documents\\\\GitHub\\\\react-calculator\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _taggedTemplateLiteral from \"C:\\\\Users\\\\Ahn\\\\Documents\\\\GitHub\\\\react-calculator\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"C:\\\\Users\\\\Ahn\\\\Documents\\\\GitHub\\\\react-calculator\\\\src\\\\components\\\\Calculator.jsx\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  display: inline-block;\\n  width: 270px;\\n  height: 65px;\\n  padding: 10px;\\n  border: 2px solid #000;\\n  border-radius: 5px;\\n  text-align: right;\\n  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);\\n  margin-bottom: 10px;\\n  cursor: pointer;\\n  h3 {\\n    margin: 0px;\\n  }\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  margin: 30px auto;\\n  text-align: center;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport * as React from \"react\";\nimport styled from \"styled-components\";\nimport Panel from \"./Panel\";\nimport Display from \"./Display\";\nimport ButtonGroup from \"./ButtonGroup\";\nimport Button from \"./Button\";\nimport History from \"./History\";\nvar Container = styled.div(_templateObject()); // TODO: History 내에서 수식 표시할 때 사용\n\nvar Box = styled.div(_templateObject2());\n\nvar evalFunc = function evalFunc(string) {\n  // eslint-disable-next-line no-new-func\n  return new Function(\"return (\" + string + \")\")();\n};\n\nvar Calculator = /*#__PURE__*/function (_React$Component) {\n  _inherits(Calculator, _React$Component);\n\n  var _super = _createSuper(Calculator);\n\n  function Calculator() {\n    var _this;\n\n    _classCallCheck(this, Calculator);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      displayValue: \"\"\n    };\n\n    _this.onClickButton = function (key) {\n      var _this$state$displayVa = _this.state.displayValue,\n          displayValue = _this$state$displayVa === void 0 ? \"\" : _this$state$displayVa;\n      displayValue = \"\" + displayValue;\n      var lastChar = displayValue.substr(displayValue.length - 1);\n      var operatorKeys = [\"÷\", \"×\", \"-\", \"+\"];\n      var proc = {\n        AC: function AC() {\n          _this.setState({\n            displayValue: \"\"\n          });\n        },\n        BS: function BS() {\n          if (displayValue.length > 0) {\n            displayValue = displayValue.substr(0, displayValue.length - 1);\n          }\n\n          _this.setState({\n            displayValue: displayValue\n          });\n        },\n        // TODO: 제곱근 구현\n        \"√\": function _() {\n          if (lastChar !== \"\" && operatorKeys.includes(lastChar)) {\n            displayValue = displayValue.substr(0, displayValue.length - 1);\n          } else if (lastChar !== \"\") {\n            displayValue = evalFunc(displayValue);\n            displayValue = Math.sqrt(displayValue);\n          }\n\n          _this.setState({\n            displayValue: displayValue\n          });\n        },\n        // TODO: 사칙연산 구현\n        \"÷\": function _() {\n          if (lastChar !== \"\" && !operatorKeys.includes(lastChar)) {\n            _this.setState({\n              displayValue: displayValue + \"÷\"\n            });\n          }\n        },\n        \"×\": function _() {\n          if (lastChar !== \"\" && !operatorKeys.includes(lastChar)) {\n            _this.setState({\n              displayValue: displayValue + \"×\"\n            });\n          }\n        },\n        \"-\": function _() {\n          if (lastChar !== \"\" && !operatorKeys.includes(lastChar)) {\n            _this.setState({\n              displayValue: displayValue + \"-\"\n            });\n          }\n        },\n        \"+\": function _() {\n          // + 연산 참고하여 연산 구현\n          if (lastChar !== \"\" && !operatorKeys.includes(lastChar)) {\n            _this.setState({\n              displayValue: displayValue + \"+\"\n            });\n          }\n        },\n        \"=\": function _() {\n          displayValue = displayValue.replace(\"×\", \"*\");\n          displayValue = displayValue.replace(\"÷\", \"/\");\n\n          if (lastChar !== \"\" && operatorKeys.includes(lastChar)) {\n            displayValue = displayValue.substr(0, displayValue.length - 1);\n          } else if (lastChar !== \"\") {\n            displayValue = evalFunc(displayValue);\n          }\n\n          _this.setState({\n            displayValue: displayValue\n          });\n        },\n        \".\": function _() {\n          if (Number(displayValue) !== 0) {\n            displayValue += \".\";\n\n            _this.setState({\n              displayValue: displayValue\n            });\n          }\n        },\n        \"0\": function _() {\n          if (Number(displayValue) !== 0) {\n            displayValue += \"0\";\n\n            _this.setState({\n              displayValue: displayValue\n            });\n          }\n        }\n      };\n\n      if (proc[key]) {\n        proc[key]();\n      } else {\n        // 여긴 숫자\n        _this.setState({\n          displayValue: displayValue + key\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Calculator, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(Container, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Panel, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Display, {\n        displayValue: this.state.displayValue,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(ButtonGroup, {\n        onClickButton: this.onClickButton,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        size: 1,\n        color: \"gray\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 13\n        }\n      }, \"AC\"), /*#__PURE__*/React.createElement(Button, {\n        size: 1,\n        color: \"gray\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 13\n        }\n      }, \"BS\"), /*#__PURE__*/React.createElement(Button, {\n        size: 1,\n        color: \"gray\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 13\n        }\n      }, \"\\u221A\"), /*#__PURE__*/React.createElement(Button, {\n        size: 1,\n        color: \"gray\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 13\n        }\n      }, \"\\xF7\"), /*#__PURE__*/React.createElement(Button, {\n        size: 1,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 13\n        }\n      }, \"7\"), /*#__PURE__*/React.createElement(Button, {\n        size: 1,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 13\n        }\n      }, \"8\"), /*#__PURE__*/React.createElement(Button, {\n        size: 1,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 13\n        }\n      }, \"9\"), /*#__PURE__*/React.createElement(Button, {\n        size: 1,\n        color: \"gray\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 13\n        }\n      }, \"\\xD7\"), /*#__PURE__*/React.createElement(Button, {\n        size: 1,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 13\n        }\n      }, \"4\"), /*#__PURE__*/React.createElement(Button, {\n        size: 1,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 13\n        }\n      }, \"5\"), /*#__PURE__*/React.createElement(Button, {\n        size: 1,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 13\n        }\n      }, \"6\"), /*#__PURE__*/React.createElement(Button, {\n        size: 1,\n        color: \"gray\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 13\n        }\n      }, \"-\"), /*#__PURE__*/React.createElement(Button, {\n        size: 1,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 13\n        }\n      }, \"1\"), /*#__PURE__*/React.createElement(Button, {\n        size: 1,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 13\n        }\n      }, \"2\"), /*#__PURE__*/React.createElement(Button, {\n        size: 1,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 13\n        }\n      }, \"3\"), /*#__PURE__*/React.createElement(Button, {\n        size: 1,\n        color: \"gray\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 13\n        }\n      }, \"+\"), /*#__PURE__*/React.createElement(Button, {\n        size: 2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 13\n        }\n      }, \"0\"), /*#__PURE__*/React.createElement(Button, {\n        size: 1,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 13\n        }\n      }, \".\"), /*#__PURE__*/React.createElement(Button, {\n        size: 1,\n        color: \"gray\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 13\n        }\n      }, \"=\"))), /*#__PURE__*/React.createElement(History, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 9\n        }\n      }));\n    }\n  }]);\n\n  return Calculator;\n}(React.Component);\n\nexport default Calculator;","map":{"version":3,"sources":["C:/Users/Ahn/Documents/GitHub/react-calculator/src/components/Calculator.jsx"],"names":["React","styled","Panel","Display","ButtonGroup","Button","History","Container","div","Box","evalFunc","string","Function","Calculator","state","displayValue","onClickButton","key","lastChar","substr","length","operatorKeys","proc","AC","setState","BS","includes","Math","sqrt","replace","Number","Component"],"mappings":"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","sourcesContent":["import * as React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nimport Panel from \"./Panel\";\r\nimport Display from \"./Display\";\r\nimport ButtonGroup from \"./ButtonGroup\";\r\nimport Button from \"./Button\";\r\nimport History from \"./History\";\r\n\r\nconst Container = styled.div`\r\n  margin: 30px auto;\r\n  text-align: center;\r\n`;\r\n\r\n// TODO: History 내에서 수식 표시할 때 사용\r\nconst Box = styled.div`\r\n  display: inline-block;\r\n  width: 270px;\r\n  height: 65px;\r\n  padding: 10px;\r\n  border: 2px solid #000;\r\n  border-radius: 5px;\r\n  text-align: right;\r\n  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);\r\n  margin-bottom: 10px;\r\n  cursor: pointer;\r\n  h3 {\r\n    margin: 0px;\r\n  }\r\n`;\r\n\r\nconst evalFunc = function(string) {\r\n  // eslint-disable-next-line no-new-func\r\n  return new Function(\"return (\" + string + \")\")();\r\n};\r\n\r\nclass Calculator extends React.Component {\r\n  // TODO: history 추가\r\n  state = {\r\n    displayValue: \"\"\r\n  };\r\n\r\n  onClickButton = key => {\r\n    let { displayValue = \"\" } = this.state;\r\n    displayValue = \"\" + displayValue;\r\n    const lastChar = displayValue.substr(displayValue.length - 1);\r\n    const operatorKeys = [\"÷\", \"×\", \"-\", \"+\"];\r\n    const proc = {\r\n      AC: () => {\r\n        this.setState({ displayValue: \"\" });\r\n      },\r\n      BS: () => {\r\n        if (displayValue.length > 0) {\r\n          displayValue = displayValue.substr(0, displayValue.length - 1);\r\n        }\r\n        this.setState({ displayValue });\r\n      },\r\n      // TODO: 제곱근 구현\r\n      \"√\": () => {\r\n        if (lastChar !== \"\" && operatorKeys.includes(lastChar)) {\r\n          displayValue = displayValue.substr(0, displayValue.length - 1);\r\n        } else if (lastChar !== \"\") {\r\n          displayValue = evalFunc(displayValue);\r\n          displayValue = Math.sqrt(displayValue);\r\n        }\r\n        this.setState({ displayValue });\r\n      },\r\n      // TODO: 사칙연산 구현\r\n      \"÷\": () => {\r\n        if (lastChar !== \"\" && !operatorKeys.includes(lastChar)) {\r\n          this.setState({ displayValue: displayValue + \"÷\" });\r\n        }\r\n      },\r\n      \"×\": () => {\r\n        if (lastChar !== \"\" && !operatorKeys.includes(lastChar)) {\r\n          this.setState({ displayValue: displayValue + \"×\" });\r\n        }\r\n      },\r\n      \"-\": () => {\r\n        if (lastChar !== \"\" && !operatorKeys.includes(lastChar)) {\r\n          this.setState({ displayValue: displayValue + \"-\" });\r\n        }\r\n      },\r\n      \"+\": () => {\r\n        // + 연산 참고하여 연산 구현\r\n        if (lastChar !== \"\" && !operatorKeys.includes(lastChar)) {\r\n          this.setState({ displayValue: displayValue + \"+\" });\r\n        }\r\n      },\r\n      \"=\": () => {\r\n        displayValue = displayValue.replace(\"×\",\"*\");\r\n        displayValue = displayValue.replace(\"÷\",\"/\");\r\n        if (lastChar !== \"\" && operatorKeys.includes(lastChar)) {\r\n          displayValue = displayValue.substr(0, displayValue.length - 1);\r\n        } else if (lastChar !== \"\") {\r\n          displayValue = evalFunc(displayValue);\r\n        }\r\n        this.setState({ displayValue });\r\n      },\r\n      \".\": () => {\r\n        if (Number(displayValue) !== 0) {\r\n          displayValue += \".\";\r\n          this.setState({ displayValue });\r\n        }\r\n      },\r\n      \"0\": () => {\r\n        if (Number(displayValue) !== 0) {\r\n          displayValue += \"0\";\r\n          this.setState({ displayValue });\r\n        }\r\n      }\r\n    };\r\n\r\n    if (proc[key]) {\r\n      proc[key]();\r\n    } else {\r\n      // 여긴 숫자\r\n      this.setState({ displayValue: displayValue + key });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Container>\r\n        <Panel>\r\n          <Display displayValue={this.state.displayValue} />\r\n          <ButtonGroup onClickButton={this.onClickButton}>\r\n            <Button size={1} color=\"gray\">\r\n              AC\r\n            </Button>\r\n            <Button size={1} color=\"gray\">\r\n              BS\r\n            </Button>\r\n            <Button size={1} color=\"gray\">\r\n              √\r\n            </Button>\r\n            <Button size={1} color=\"gray\">\r\n              ÷\r\n            </Button>\r\n\r\n            <Button size={1}>7</Button>\r\n            <Button size={1}>8</Button>\r\n            <Button size={1}>9</Button>\r\n            <Button size={1} color=\"gray\">\r\n              ×\r\n            </Button>\r\n\r\n            <Button size={1}>4</Button>\r\n            <Button size={1}>5</Button>\r\n            <Button size={1}>6</Button>\r\n            <Button size={1} color=\"gray\">\r\n              -\r\n            </Button>\r\n\r\n            <Button size={1}>1</Button>\r\n            <Button size={1}>2</Button>\r\n            <Button size={1}>3</Button>\r\n            <Button size={1} color=\"gray\">\r\n              +\r\n            </Button>\r\n\r\n            <Button size={2}>0</Button>\r\n            <Button size={1}>.</Button>\r\n            <Button size={1} color=\"gray\">\r\n              =\r\n            </Button>\r\n          </ButtonGroup>\r\n        </Panel>\r\n        {/* TODO: History componet를 이용해 map 함수와 Box styled div를 이용해 history 표시 */}\r\n        <History>\r\n          \r\n        </History>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Calculator;\r\n"]},"metadata":{},"sourceType":"module"}